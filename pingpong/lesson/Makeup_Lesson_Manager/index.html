<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ğŸ“ KOEN íƒêµ¬ ë³´ê°• ê´€ë¦¬</title>

<link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">

<style>
:root{
  --ink:#0f172a; --muted:#64748b; --bg:#f5f7fb; --card:#fff;
  --accent:#2563eb; --ok:#16a34a; --danger:#ef4444;
  --shadow:0 8px 28px rgba(0,0,0,.08);
}
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Pretendard","Noto Sans KR",sans-serif;
  background:var(--bg); color:var(--ink);
}

/* ìƒë‹¨ íƒ­ */
.tabs{
  display:flex; background:#fff; border-bottom:1px solid #e5e7eb;
  position:sticky; top:0; z-index:10;
}
.tab{
  flex:1; text-align:center; padding:14px 0; font-weight:700;
  border-bottom:3px solid transparent; cursor:pointer;
}
.tab.active{color:var(--accent); border-color:var(--accent);}

/* ë¦¬ìŠ¤íŠ¸ ê³µí†µ */
.section{padding:16px;}
.card{
  background:var(--card); padding:16px;
  border-radius:14px; box-shadow:var(--shadow);
  margin-bottom:14px;
}
.card h3{margin-bottom:8px;font-size:1.25rem;}
.row{margin:6px 0; color:var(--muted);}

/* ë²„íŠ¼ */
.btn{
  display:inline-block; padding:10px 14px; border-radius:10px;
  font-weight:600; text-align:center; cursor:pointer;
}
.btn.blue{background:var(--accent); color:white;}
.btn.green{background:var(--ok); color:white;}
.btn.gray{background:#e5e7eb; color:var(--ink);}

/* ì‹œê°„ ë¸”ë¡ */
.time-grid{
  display:grid; grid-template-columns:repeat(3,1fr);
  gap:10px; margin-top:10px;
}
.time{
  padding:14px 10px; background:#fff; border-radius:12px;
  text-align:center; font-weight:700; box-shadow:var(--shadow);
  cursor:pointer;
}
.time.active{background:var(--accent); color:#fff;}

/* ë³´ê°• ì™„ë£Œ ê¸°ë¡ */
.done-card{border-left:6px solid var(--ok);}

</style>
</head>
<body>

<!-- ìƒë‹¨ íƒ­ -->
<div class="tabs">
  <div class="tab active" onclick="showTab('pending')">ë³´ê°• ë°›ì„ ì‚¬ëŒ</div>
  <div class="tab" onclick="showTab('done')">ë³´ê°• ì™„ë£Œí•œ ì‚¬ëŒ</div>
</div>

<!-- ë³´ê°• ë°›ì„ ì‚¬ëŒ -->
<div id="pending" class="section">

  <h2>ğŸ“Œ ë³´ê°• ëŒ€ìƒì</h2>
  <div id="pendingList"></div>

  <h2 style="margin-top:24px;">ğŸ“… ë³´ê°• ìŠ¤ì¼€ì¤„ ì¡ê¸°</h2>
  <div class="time-grid" id="timeSlots"></div>
  
</div>

<!-- ë³´ê°• ì™„ë£Œ -->
<div id="done" class="section" style="display:none;">
  <h2>âœ… ë³´ê°• ì™„ë£Œ ê¸°ë¡</h2>
  <div id="doneList"></div>
</div>

<script>
// --------------------------------------
// 1) ê¸°ë³¸ ë ˆìŠ¨ì ë°ì´í„°
// --------------------------------------
const initialData = {
  mon_0:{name:"ì •ìŠ¹ëª©"}, tue_0:{name:"ì´ì„¸ë€"}, wed_0:{name:"ì •ìŠ¹ëª©"}, thu_0:{name:"ì´ì„¸ë€"},
  mon_1:{name:"ì´ìƒì¤€"}, tue_1:{name:"ë°•ë‚˜ë ¹"}, wed_1:{name:"ì´ìƒì¤€"}, thu_1:{name:"ë°•ë‚˜ë ¹"},
  mon_2:{name:"ì´ë‚­ì£¼"}, tue_2:{name:"ê¹€ìŠ¹ì¼"}, wed_2:{name:"ì´ë‚­ì£¼"}, thu_2:{name:"ê¹€ìŠ¹ì¼"},
  mon_3:{name:"ì¡°ë³´ë¯¸"}, tue_3:{name:"ì†¡ì€ì•„"}, wed_3:{name:"ì¡°ë³´ë¯¸"}, thu_3:{name:"ì†¡ì€Ğ"},
  mon_4:{name:"ê³ ì€ì„ "}, tue_4:{name:"ì„ì¶˜ê·¼"}, wed_4:{name:"ê³ ì€ì„ "}, thu_4:{name:"ì„ì¶˜ê·¼"}
};

// --------------------------------------
// 2) ë³´ê°• ëŒ€ìƒì, ë³´ê°• ì™„ë£Œì ë¦¬ìŠ¤íŠ¸
// --------------------------------------
let makeupList = [];
let doneList = [];

// ì˜ˆì‹œ: ìˆ˜ìš”ì¼ ì½”ì¹˜ ê²°ì„ â†’ ë³´ê°• ëŒ€ìƒ ìë™ ìƒì„±
function createMakeupListFromDay(day){
  makeupList = [];
  for(let i=0;i<5;i++){
    const key = `${day}_${i}`;
    if(initialData[key]){
      makeupList.push({name:initialData[key].name, group:i, day});
    }
  }
  renderAll();
}

// í…ŒìŠ¤íŠ¸ìš© ê¸°ë³¸ ìƒì„±
createMakeupListFromDay("wed");

// --------------------------------------
// 3) ë³´ê°• ê°€ëŠ¥í•œ ì‹œê°„ ìŠ¬ë¡¯ ë§Œë“¤ê¸°
// --------------------------------------
const timeSlots = ["14:00","14:30","15:00","15:30","16:00","16:30"];

let selectedTime = null;

function renderTimeSlots(){
  const box = document.getElementById("timeSlots");
  box.innerHTML = "";
  timeSlots.forEach(t=>{
    const div = document.createElement("div");
    div.className="time"+(selectedTime===t?" active":"");
    div.innerText=t;
    div.onclick=()=>{
      selectedTime=t;
      renderTimeSlots();
    };
    box.appendChild(div);
  });
}

// --------------------------------------
// 4) ë³´ê°• ëŒ€ìƒì ë Œë”ë§
// --------------------------------------
function renderPending(){
  const box = document.getElementById("pendingList");
  box.innerHTML="";

  if(makeupList.length===0){
    box.innerHTML='<div style="color:#999;">ë³´ê°• ëŒ€ê¸°ìê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
    return;
  }

  makeupList.forEach(m=>{
    let c = document.createElement("div");
    c.className="card";
    c.innerHTML = `
      <h3>${m.name}</h3>
      <div class="row">ì›ë˜ ë ˆìŠ¨ ìš”ì¼: ${m.day.toUpperCase()} ê·¸ë£¹ ${m.group}</div>
      <div class="btn green" style="margin-top:10px;"
        onclick="assignMakeup('${m.name}')">ë³´ê°• ì™„ë£Œ ì²˜ë¦¬</div>
    `;
    box.appendChild(c);
  });
}

// --------------------------------------
// 5) ë³´ê°• ì™„ë£Œ ì²˜ë¦¬ (ìˆ˜ë™ë§Œ í—ˆìš©)
// --------------------------------------
function assignMakeup(name){
  const target = makeupList.find(m=>m.name===name);
  if(!target) return;

  doneList.push({
    ...target,
    time:selectedTime,
    date:new Date().toLocaleString()
  });

  makeupList = makeupList.filter(m=>m.name!==name);

  selectedTime = null;
  renderAll();
}

// --------------------------------------
// 6) ë³´ê°• ì™„ë£Œ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
// --------------------------------------
function renderDone(){
  const box = document.getElementById("doneList");
  box.innerHTML="";

  if(doneList.length===0){
    box.innerHTML='<div style="color:#999;">ì•„ì§ ë³´ê°• ì™„ë£Œ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
    return;
  }

  doneList.forEach(m=>{
    let c = document.createElement("div");
    c.className="card done-card";
    c.innerHTML = `
      <h3>${m.name}</h3>
      <div class="row">ë ˆìŠ¨ ìš”ì¼: ${m.day.toUpperCase()} ê·¸ë£¹ ${m.group}</div>
      <div class="row">ë³´ê°• ì‹œê°„: ${m.time ?? "ìˆ˜ë™ ì²˜ë¦¬(ì‹œê°„ ì—†ìŒ)"}</div>
      <div class="row">ì™„ë£Œ ì¼ì‹œ: ${m.date}</div>
    `;
    box.appendChild(c);
  });
}

// --------------------------------------
// 7) íƒ­ ì „í™˜
// --------------------------------------
function showTab(id){
  document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
  document.querySelectorAll(".section").forEach(s=>s.style.display="none");

  if(id==="pending"){
    document.querySelectorAll(".tab")[0].classList.add("active");
    document.getElementById("pending").style.display="block";
  } else {
    document.querySelectorAll(".tab")[1].classList.add("active");
    document.getElementById("done").style.display="block";
  }
}

// --------------------------------------
// ìµœì´ˆ ë Œë”
// --------------------------------------
function renderAll(){
  renderPending();
  renderDone();
  renderTimeSlots();
}
renderAll();

</script>
</body>
</html>
