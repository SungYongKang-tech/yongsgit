<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ğŸ” íƒêµ¬ ìŠ¤íƒ€ì¼ ë¶„ì„</title>
<link href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" rel="stylesheet">

<style>
/* ì „ì²´ ìŠ¤íƒ€ì¼ (ìƒëµ ì—†ì´ ì™„ì „ ë²„ì „) */
:root{
  --ink:#0f172a; --muted:#64748b; --bg:#f5f7fb; --card:#fff;
  --accent:#2563eb; --ok:#16a34a; --warn:#f59e0b; --bad:#ef4444;
  --shadow:0 8px 28px rgba(2,6,23,.08);
}
*{box-sizing:border-box}
body{margin:0;font-family:"Pretendard","Noto Sans KR",system-ui,sans-serif;background:var(--bg);color:var(--ink);font-weight:600}
.wrap{max-width:900px;margin:0 auto;padding:16px}
header{
  position:sticky;
  top:0;
  background:#fff;
  border-bottom:1px solid #e5e7eb;
  z-index:9999;
}
.analysis-wrap{ position:relative; z-index:1; }
.head-in{max-width:900px;margin:0 auto;padding:12px 16px;display:flex;gap:10px;align-items:center;justify-content:space-between}
h1{margin:0;font-size:clamp(18px,4vw,22px);color:#1e40af}
.btn{border:1px solid #d1d5db;padding:8px 12px;border-radius:10px;background:#fff;cursor:pointer;font-weight:800}
.btn.primary{background:var(--accent);color:#fff;border-color:var(--accent)}
.card{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;box-shadow:var(--shadow);padding:16px;margin-top:12px}
.sec-title{font-size:16px;font-weight:900;color:#0f172a;margin:0 0 8px}
.badge{display:inline-block;padding:4px 8px;border-radius:999px;background:#e2efff;color:#1e40af;font-size:12px;font-weight:900}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.kv{display:grid;gap:8px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.divider{height:1px;background:#eef2f7;margin:12px 0}
ul.clean{list-style:none;padding:0;margin:0;display:grid;gap:6px}
.small{font-size:13px;color:#475569}

input,textarea{width:100%;padding:10px 12px;border:1px solid #d1d5db;border-radius:10px;font:inherit}
label{font-size:12px;color:#475569;font-weight:800}
.grid{display:grid;gap:12px;grid-template-columns:repeat(12,1fr)}
.col-12{grid-column:span 12}
.col-6{grid-column:span 6}
@media(max-width:720px){.col-6{grid-column:span 12}}
</style>
</head>

<body>
<header>
  <div class="head-in">
    <h1>ğŸ” íƒêµ¬ ìŠ¤íƒ€ì¼ ë¶„ì„</h1>
    <div class="row">
      <button class="btn" id="btnBack">â† ê°œì¸ ì„±ì </button>
      <button class="btn" id="btnAdminToggle">ê´€ë¦¬ìëª¨ë“œ</button>
      <span class="badge" id="who"></span>
    </div>
  </div>
</header>

<div class="analysis-wrap">
<main class="wrap">

  <section class="card" style="margin-top:12px;">
    <div id="analysisContent"></div>
  </section>

  <section class="card">
    <div class="sec-title">ğŸ“… í†µí•©ë¦¬ê·¸ ìš”ì•½</div>
    <div id="integratedBox" class="kv"></div>
    <ul id="integratedBullets" class="clean"></ul>
    <div class="small">â€» í†µí•©ë¦¬ê·¸ëŠ” ì°¸ê³ ìš©ìœ¼ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤.</div>
  </section>

  <section class="card">
    <div class="sec-title">ğŸ¯ ì„¸ë¶€ ì„±í–¥ (ë‹¨ì‹Â·ë³µì‹)</div>
    <div class="grid">
      <div class="col-6">
        <div class="badge">ë‹¨ì‹</div>
        <ul id="singleBullets" class="clean"></ul>
      </div>
      <div class="col-6">
        <div class="badge">ë³µì‹</div>
        <ul id="doubleBullets" class="clean"></ul>
      </div>
    </div>
    <div class="divider"></div>
    <ul id="recommend" class="clean"></ul>
  </section>

  <section class="card" id="adminCard" style="display:none">
    <div class="sec-title">ğŸ›  ê´€ë¦¬ì ë©”ëª¨</div>
    <div class="grid">
      <div class="col-6">
        <label>ìŠ¤íƒ€ì¼</label>
        <input id="ad_style" placeholder="ì˜ˆ: ê³µê²©í˜•, ì•ˆì •í˜•">
      </div>
      <div class="col-6">
        <label>ì„ í˜¸ íŒŒíŠ¸ë„ˆ</label>
        <input id="ad_favs" placeholder="í™ê¸¸ë™, ê¹€ì˜í¬">
      </div>
      <div class="col-6">
        <label>ê°•ì </label>
        <input id="ad_strengths" placeholder="ì´ˆêµ¬ ë“œë¼ì´ë¸Œ, ë°œë¹ ë¦„">
      </div>
      <div class="col-6">
        <label>ì•½ì </label>
        <input id="ad_weaknesses" placeholder="ë°± ì»¤íŠ¸, ë¦¬ì‹œë¸Œ">
      </div>
      <div class="col-12">
        <label>ì–´ë ¤ìš´ ìƒëŒ€</label>
        <input id="ad_hards" placeholder="ì´ìƒì¤€, ë°•ë‚˜ë ¹">
      </div>
      <div class="col-12">
        <label>ë©”ëª¨</label>
        <textarea id="ad_memo" rows="3" placeholder="ì „ì§„ ê³µê²© ìœ„ì£¼â€¦"></textarea>
      </div>
    </div>

    <button class="btn primary" id="btnSaveAdmin" style="margin-top:12px;">ì €ì¥</button>
  </section>

</main>
</div>


<script type="module">
/* ============================================
 âœ… Firebase ì´ˆê¸°í™”
===============================================*/
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
import { getDatabase, ref, get, set } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyArRznuWhfuiOA1vFtwlArMCLsAdTz6XHo",
  authDomain: "pingpongclub-4a5fd.firebaseapp.com",
  databaseURL: "https://pingpongclub-4a5fd-default-rtdb.firebaseio.com",
  projectId: "pingpongclub-4a5fd",
  storageBucket: "pingpongclub-4a5fd.firebasestorage.app",
  messagingSenderId: "802826774007",
  appId: "1:802826774007:web:ca4d05be778eeaf1723af2"
};
initializeApp(firebaseConfig);
const db = getDatabase();

/* ============================================
 âœ… ê¸°ë³¸ ì„¤ì •
===============================================*/
const params = new URLSearchParams(location.search);
const playerName = params.get("name") || "";
document.getElementById("who").textContent = playerName;

const pct = (a,b)=>b?Math.round(a/b*100):0;
const fmt = n=>Math.round(n*10)/10;
const box = document.getElementById("analysisContent");

/* ============================================
 âœ… ê´€ë¦¬ì ë©”ëª¨
===============================================*/
async function loadAdminMemo(){
  const snap = await get(ref(db,`playerDetail/${playerName}`));
  return snap.exists()?snap.val():{};
}

document.getElementById("btnSaveAdmin")?.addEventListener("click", async ()=>{
  const data = {
    style: ad_style.value.trim(),
    favs: ad_favs.value.trim(),
    strengths: ad_strengths.value.trim(),
    weaknesses: ad_weaknesses.value.trim(),
    hards: ad_hards.value.trim(),
    memo: ad_memo.value.trim(),
  };
  await set(ref(db,`playerDetail/${playerName}`), data);
  alert("âœ… ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!");
});

/* ============================================
 âœ… í†µí•© ë¦¬ê·¸ ë°ì´í„° ë¡œë“œ
===============================================*/
async function loadMonthlyReports(){
  const snap = await get(ref(db,"monthlyReports"));
  if(!snap.exists()) return [];

  let result=[];
  Object.entries(snap.val()).forEach(([month,obj])=>{
    if(!obj.players) return;
    const me = Object.values(obj.players).find(p=>p.name===playerName);
    if(!me) return;

    const win  = Number(me.wins ?? me.win  ?? 0);
    const lose = Number(me.losses ?? me.lose ?? 0);

    result.push({
      month, win, lose,
      total: win+lose,
      rate: pct(win, win+lose)
    });
  });

  return result.sort((a,b)=>a.month.localeCompare(b.month));
}

/* ============================================
 âœ… ê²½ê¸° ë°ì´í„° ë¡œë“œ
===============================================*/
async function loadMatches(){
  const snap = await get(ref(db,"matches"));
  if(!snap.exists()) return [];

  return Object.values(snap.val()).filter(m=>{
    const names=[...(m.namesA||[]), ...(m.namesB||[])];
    return names.includes(playerName);
  });
}

/* ============================================
 âœ… í†µí•© ë¶„ì„
===============================================*/
function analyzeUnified(reports){
  if(!reports.length) return {
    trend:"ë°ì´í„° ì—†ìŒ",
    best:null, worst:null,
    steady:null,
    pattern:"í†µí•© ê¸°ë¡ ë¶€ì¡±"
  };

  const best = [...reports].sort((a,b)=>b.rate-a.rate)[0];
  const worst= [...reports].sort((a,b)=>a.rate-b.rate)[0];

  let trend="ì•ˆì •ì ";
  if(reports.length>=2){
    const diff = reports.at(-1).rate - reports[0].rate;
    if(diff>=10) trend="ìŠ¹ë¥  ìƒìŠ¹ì„¸";
    else if(diff<=-10) trend="ìŠ¹ë¥  í•˜ë½ì„¸";
  }

  const totals = reports.map(r=>r.total);
  const steady = fmt((Math.min(...totals) / Math.max(...totals)) * 100);

  let pattern="";
  if(best.rate>=65) pattern="ê¸°ì„¸ë¥¼ íƒ€ë©´ ëª°ì•„ì¹˜ëŠ” í­ë°œí˜• ê²½ê¸°ë ¥";
  else if(best.rate>=55) pattern="ì „ë°˜ì ìœ¼ë¡œ ì•ˆì •ì ì´ê³  íƒ„íƒ„í•œ ê²½ê¸° ìš´ì˜";
  else pattern="ì´ˆë°˜ ì‹¤ì ì´ ë§ì•„ ì§‘ì¤‘ë ¥ ìœ ì§€ê°€ ì¤‘ìš”";

  return { trend, best, worst, steady, pattern };
}

/* ============================================
 âœ… HTML êµ¬ì„±
===============================================*/
function makeAnalysis(reports,matches,adminMemo){
  let out=[];

  // ì „ì²´ ì§‘ê³„
  let totalWin=0, totalLose=0;
  reports.forEach(r=>{ totalWin+=r.win; totalLose+=r.lose; });
  const allRate=pct(totalWin,totalWin+totalLose);
  const unified=analyzeUnified(reports);

  // í—¤ë“œë¼ì¸
  out.push(`
    <div style="font-size:20px;font-weight:900;margin-bottom:12px;color:#1e3a8a">
      ğŸ“Œ í•µì‹¬ ìš”ì•½
    </div>
    <div class="box">
      <b>${playerName}</b> ì„ ìˆ˜ëŠ” ì „ì²´ ìŠ¹ë¥  <b>${allRate}%</b>ì´ë©°,
      ìµœê·¼ íë¦„ì€ <b>${unified.trend}</b>ì…ë‹ˆë‹¤.
    </div>
  `);

  // í†µí•© ë¦¬ê·¸
  out.push(`
    <div class="sec-title">ğŸ“… í†µí•©ë¦¬ê·¸ ë¶„ì„</div>
    <div class="box">
      ${
        reports.length ? `
        ìµœê³  ì„±ì : <b>${unified.best.month}</b> (${unified.best.rate}%)<br>
        ì–´ë ¤ì› ë˜ ë‹¬: <b>${unified.worst.month}</b> (${unified.worst.rate}%)<br><br>
        ê¾¸ì¤€í•¨ ì§€ìˆ˜: <b>${unified.steady}%</b><br><br>
        ${unified.pattern}
      ` : "í†µí•© ë¦¬ê·¸ ë°ì´í„° ì—†ìŒ"}
    </div>
  `);

  return out.join("\n");
}

/* ============================================
 âœ… í†µí•©ìš”ì•½ + ë‹¨ì‹Â·ë³µì‹ + ì¶”ì²œ ë¶„ì„
===============================================*/
function fillUnifiedSummary(reports){
  const wrap=document.getElementById("integratedBox");
  const bullets=document.getElementById("integratedBullets");
  if(!wrap||!bullets) return;

  if(!reports.length){
    wrap.innerHTML=`<div class="small">í†µí•© ë°ì´í„° ì—†ìŒ</div>`;
    bullets.innerHTML="";
    return;
  }

  const totalGames = reports.reduce((t,r)=>t+r.total,0);
  const totalWins  = reports.reduce((t,r)=>t+r.win  ,0);
  const totalLose  = reports.reduce((t,r)=>t+r.lose ,0);
  const avgRate    = pct(totalWins,totalGames);

  const mostGames  = [...reports].sort((a,b)=>b.total-a.total)[0];
  const bestRate   = [...reports].sort((a,b)=>b.rate-a.rate)[0];
  const last       = reports.at(-1);

  wrap.innerHTML=`
    <div class="row" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px">
      <div class="card" style="padding:12px">
        <div class="small">ì´ ê²½ê¸°</div>
        <div style="font-size:20px;font-weight:900">${totalGames}</div>
      </div>
      <div class="card" style="padding:12px">
        <div class="small">ìŠ¹ / íŒ¨</div>
        <div style="font-size:20px;font-weight:900">${totalWins}ìŠ¹ ${totalLose}íŒ¨</div>
      </div>
      <div class="card" style="padding:12px">
        <div class="small">í‰ê·  ìŠ¹ë¥ </div>
        <div style="font-size:20px;font-weight:900">${avgRate}%</div>
      </div>
    </div>
  `;

  bullets.innerHTML=`
    <li>ê°€ì¥ ë§ì´ ë›´ ë‹¬: <b>${mostGames.month}</b> (${mostGames.total}ê²½ê¸°)</li>
    <li>ìŠ¹ë¥  ìµœê³  ë‹¬: <b>${bestRate.month}</b> (${bestRate.rate}%)</li>
    <li>ìµœê·¼ ë‹¬ ìŠ¹ë¥ : <b>${last.month}</b> (${last.rate}%)</li>
  `;
}

/* âœ… ê²½ê¸° ìƒì„¸ ë¶„ì„ (ë‹¨ì‹/ë³µì‹/ìƒëŒ€/íŒŒíŠ¸ë„ˆ) */
function buildMatchStats(matches){
  const s={win:0,lose:0};
  const d={win:0,lose:0};
  const opp={};
  const partner={};
  const ptSet=new Set();

  matches.forEach(m=>{
    const A=m.namesA||[], B=m.namesB||[];
    const isA=A.includes(playerName);
    const won = (m.winnerSide==="A" && isA) || (m.winnerSide==="B" && !isA);

    if(m.mode==="single"){
      won?s.win++:s.lose++;
      const other=isA?B[0]:A[0];
      if(other){
        if(!opp[other]) opp[other]={win:0,lose:0};
        won?opp[other].win++:opp[other].lose++;
      }
    } else {
      won?d.win++:d.lose++;
      const same=isA?A:B;
      const pt=same.find(n=>n!==playerName);
      if(pt){
        ptSet.add(pt);
        if(!partner[pt]) partner[pt]={win:0,lose:0};
        won?partner[pt].win++:partner[pt].lose++;
      }
    }
  });

  return {
    singles:{...s,total:s.win+s.lose,rate:pct(s.win,s.win+s.lose)},
    doubles:{...d,total:d.win+d.lose,rate:pct(d.win,d.win+d.lose)},
    partnerDiversity: ptSet.size,
    oppArr:Object.entries(opp),
    partnerArr:Object.entries(partner)
  };
}

/* âœ… ë‹¨ì‹Â·ë³µì‹Â·ì¶”ì²œ ì±„ìš°ê¸° */
function fillDetailBullets(stats){
  const S=stats.singles, D=stats.doubles;

  singleBullets.innerHTML=`
    <li>ì´ ê²½ê¸°: <b>${S.total}</b> ( ${S.win}ìŠ¹ ${S.lose}íŒ¨ )</li>
    <li>ìŠ¹ë¥ : <b>${S.rate}%</b></li>
    <li>${S.rate>=55?"ì—°ì† ë“ì ë ¥ ìš°ìˆ˜":"ì´ˆë°˜ íë¦„Â·ë¦¬ì‹œë¸Œ ì•ˆì • í•„ìš”"}</li>
  `;

  doubleBullets.innerHTML=`
    <li>ì´ ê²½ê¸°: <b>${D.total}</b> ( ${D.win}ìŠ¹ ${D.lose}íŒ¨ )</li>
    <li>ìŠ¹ë¥ : <b>${D.rate}%</b></li>
    <li>${D.rate>=55?"ì—°ê³„ í”Œë ˆì´ ì¢‹ìŒ":"ì´ˆêµ¬ ì—­í•  ë¶„ë‹´ í•„ìš”"}</li>
    <li>íŒŒíŠ¸ë„ˆ ë‹¤ì–‘ì„±: <b>${stats.partnerDiversity}ëª…</b></li>
  `;

  let rec=[];
  if(S.rate>=D.rate){
    rec.push("ë‹¨ì‹ ê°•ì  ëšœë · â†’ ë‹¨ì‹ ë¹„ì¤‘ í™•ëŒ€ ì¶”ì²œ");
    rec.push("ì§§ì€ ê³µ ë¦¬ì‹œë¸Œ ì„ íƒì§€ í™•ì¥ì´ í•µì‹¬");
  } else {
    rec.push("ë³µì‹ ê°•ì  ëšœë · â†’ ì´ˆêµ¬-2êµ¬ ì—­í•  êµ¬ë¶„ ì‹œ ë” ìƒìŠ¹");
    rec.push("ì²« ë¸”ë¡ ì„±ê³µë¥  í–¥ìƒì´ ë‹¨ì‹ì—ë„ ë„ì›€");
  }
  recommend.innerHTML = rec.map(v=>`<li>${v}</li>`).join("");
}

/* âœ… ê´€ë¦¬ì ìë™ ì¶”ì²œë©”ëª¨ */
function buildAdminGuidedMemo(stats,reports){
  const S=stats.singles, D=stats.doubles;

  let style="";
  if(S.rate>=D.rate) style=S.rate>=60?"ì „ì§„ ê³µê²©í˜•":"ì•ˆì •í˜•Â·ë¦¬ë“¬í˜•";
  else style=D.rate>=60?"ì—°ê²°í˜•(ë³µì‹ê°•ì )":"í˜‘ì—…í˜•Â·ì•ˆì •í˜•";

  const strengths = (S.rate>=55?"ë‹¨ì‹ íë¦„ ì£¼ë„":"ê¸´ ë ë¦¬ ì•ˆì •ì„±") + 
                    ", " +
                    (D.rate>=55?"ë³µì‹ ì—°ê³„Â·ì „í™˜ì†ë„":"ìˆ˜ë¹„â†’ê³µê²© ì „í™˜");

  const weaknesses="ì§§ì€ ê³µ ë¦¬ì‹œë¸Œ ì„ íƒì§€ ë¶€ì¡±, ê°• ë“œë¼ì´ë¸Œ ì²« ë¸”ë¡ í”ë“¤ë¦¼";

  const hards=""; // ì›í•˜ë©´ ì—¬ê¸°ì„œ ìŠ¹ë¥  ë‚®ì€ ìƒëŒ€ ë„£ì–´ì¤„ ìˆ˜ ìˆìŒ
  const favs="";

  const last=reports.at(-1);
  const memo=`
    ìµœê·¼(${last.month}) ìŠ¹ë¥  ${last.rate}% ê¸°ì¤€, 
    ì´ˆë°˜ 5í¬ì¸íŠ¸ ì•ˆì •í™”ë¥¼ ìœ„í•´ ì§§ì€ ë ë¦¬ ì¤‘ì‹¬ìœ¼ë¡œ ì „ìˆ ì„ êµ¬ì„±í•˜ê³  
    ë¦¬ì‹œë¸ŒëŠ” í‘¸ì‹œÂ·ì§§ì€ ìŠ¤íŠ¸ë ˆì´íŠ¸Â·ë°± ë¦¬í”„íŠ¸ë¥¼ ì„ì–´ íŒ¨í„´ì„ ê°•í™”í•˜ì„¸ìš”. 
    ë³µì‹ì€ ì´ˆêµ¬-2êµ¬ ì—­í• ì„ ëª…í™•íˆ í•˜ê³ , ë‹¨ì‹ì€ ì²« ë¸”ë¡ ì„±ê³µë¥  í–¥ìƒì´ í•µì‹¬ì…ë‹ˆë‹¤.
  `.trim();

  return {style,strengths,weaknesses,favs,hards,memo};
}

function fillAdminMemoFields(s){
  if(!ad_style.value.trim()) ad_style.value=s.style;
  if(!ad_strengths.value.trim()) ad_strengths.value=s.strengths;
  if(!ad_weaknesses.value.trim()) ad_weaknesses.value=s.weaknesses;
  if(!ad_favs.value.trim()) ad_favs.value=s.favs;
  if(!ad_hards.value.trim()) ad_hards.value=s.hards;
  if(!ad_memo.value.trim()) ad_memo.value=s.memo;
}

/* ============================================
 âœ… ì‹¤í–‰(ë¹„ë™ê¸°)
===============================================*/
(async ()=>{
  box.innerHTML="ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦";

  const reports = await loadMonthlyReports();
  const matches = await loadMatches();
  const adminMemo = await loadAdminMemo();

  // 1. ì „ì²´ ë¶„ì„ ì¶œë ¥
  box.innerHTML = makeAnalysis(reports,matches,adminMemo);

  // 2. ê´€ë¦¬ì ì…ë ¥ ìë™ ì±„ì›€
  if(adminMemo.style) ad_style.value=adminMemo.style;
  if(adminMemo.favs) ad_favs.value=adminMemo.favs;
  if(adminMemo.strengths) ad_strengths.value=adminMemo.strengths;
  if(adminMemo.weaknesses) ad_weaknesses.value=adminMemo.weaknesses;
  if(adminMemo.hards) ad_hards.value=adminMemo.hards;
  if(adminMemo.memo) ad_memo.value=adminMemo.memo;

  // 3. ì§ˆë¬¸ ê¸°ë°˜ í†µí•© ìš”ì•½
  fillUnifiedSummary(reports);

  // 4. ë‹¨ì‹Â·ë³µì‹ ì„¸ë¶€ ë¶„ì„
  const stats = buildMatchStats(matches);
  fillDetailBullets(stats);

  // 5. ê´€ë¦¬ì ì¶”ì²œì•ˆ â†’ ë¹ˆì¹¸ë§Œ ì±„ì›€
  const suggest = buildAdminGuidedMemo(stats,reports);
  fillAdminMemoFields(suggest);

})();

/* ============================================
 âœ… ìƒë‹¨ ë²„íŠ¼ / ê´€ë¦¬ìëª¨ë“œ
===============================================*/
document.addEventListener("DOMContentLoaded",()=>{
  btnBack.addEventListener("click",()=>{
    location.href=`player.html?name=${encodeURIComponent(playerName)}`;
  });

  let adminOn=false;
  async function loadAdminPassword(){
    const snap=await get(ref(db,"config/adminPassword"));
    return snap.exists()?snap.val():null;
  }

  btnAdminToggle.addEventListener("click", async ()=>{
    if(!adminOn){
      const pw=await loadAdminPassword();
      if(!pw) return alert("âš  ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ì—†ìŒ");
      const input=prompt("ğŸ” ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ì…ë ¥:");
      if(input===null) return;
      if(input.trim()!==pw.trim()) return alert("âŒ ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜");

      adminOn=true;
      adminCard.style.display="block";
      btnAdminToggle.classList.add("primary");
      btnAdminToggle.textContent="ê´€ë¦¬ìëª¨ë“œ ON";
      alert("âœ… ê´€ë¦¬ìëª¨ë“œ í™œì„±í™”");
    } else {
      adminOn=false;
      adminCard.style.display="none";
      btnAdminToggle.classList.remove("primary");
      btnAdminToggle.textContent="ê´€ë¦¬ìëª¨ë“œ";
    }
  });
});
</script>



</body>
</html>
