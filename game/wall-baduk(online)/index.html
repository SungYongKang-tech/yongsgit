<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Wall-baduk — 로비</title>
  <style>
    body { margin:0; font-family: system-ui, sans-serif; background:#f5f7fb; color:#111; }
    .wrap { min-height:100vh; display:grid; place-items:center; padding:24px; }
    .card { width:min(720px, 94vw); background:#fff; border:1px solid #e5e7eb; border-radius:16px; padding:20px 16px; box-shadow:0 8px 30px rgba(0,0,0,.06); }
    h1 { margin:0 0 6px; font-size:24px; }
    p  { margin:2px 0 14px; color:#555; }
    .row { display:flex; flex-wrap:wrap; gap:8px; margin:8px 0; align-items:center; }
    input, select, button { font-size:16px; border-radius:12px; border:1px solid #cfd4dc; padding:12px 14px; background:#fff; }
    input { width:min(300px, 70vw); }
    button { cursor:pointer; }
    .muted { font-size:13px; color:#666; margin-top:8px; }
    .hr { height:1px; background:#eee; margin:12px 0; }
    .hint { font-size:13px; color:#444; }
    .foot { display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; margin-top:10px; }
    .k { font-weight:700; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Wall-baduk (벽바둑)</h1>
      <p>온라인 2인 또는 혼자하기(AI) 모드로 플레이해요.</p>

      <div class="row">
        <input id="roomInput" placeholder="방 이름 (예: 부엉이1929)" />
        <button id="btnCreate">방 생성</button>
        <button id="btnJoin">방 참여</button>
      </div>
      <div class="muted">방 생성/참여는 다음 페이지에서 자동으로 처리됩니다.</div>

      <div class="hr"></div>

      <div class="row">
        <select id="aiLevel">
          <option value="easy">AI: 초급</option>
          <option value="medium">AI: 중급</option>
          <option value="hard">AI: 고급</option>
        </select>
        <button id="btnSolo">혼자하기(AI)</button>
      </div>
      <div class="hint">혼자하기: 네트워크 없이 로컬에서 바로 플레이합니다.</div>

      <div class="foot">
        <span class="muted">이 페이지는 로비 전용입니다.</span>
        <span class="k">▶ 게임 시작을 누르면 <code>game.html</code>로 이동합니다.</span>
      </div>
    </div>
  </div>

  <script>
    function sanitizeRoomName(raw){ return (raw||'').trim().replace(/[.#$/\[\]\//]/g,'-').slice(0,32); }
    function goto(url){ location.href = url; }

    const roomInput = document.getElementById('roomInput');
    document.getElementById('btnCreate').onclick = ()=>{
      const id = sanitizeRoomName(roomInput.value);
      if(!id){ alert('방 이름을 적어주세요. (예: 부엉이1929)'); return; }
      goto(`game.html?mode=create&room=${encodeURIComponent(id)}`);
    };
    document.getElementById('btnJoin').onclick = ()=>{
      const id = sanitizeRoomName(roomInput.value);
      if(!id){ alert('방 이름을 적어주세요. (예: 부엉이1929)'); return; }
      goto(`game.html?mode=join&room=${encodeURIComponent(id)}`);
    };
    document.getElementById('btnSolo').onclick = ()=>{
      const level = document.getElementById('aiLevel').value || 'easy';
      goto(`game.html?mode=solo&level=${encodeURIComponent(level)}`);
    };
  </script>
</body>
</html>