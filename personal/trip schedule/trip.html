<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>여행 일정표</title>
  <link rel="stylesheet" href="./style.css"/>
</head>
<body>
  <div class="container">
    <div class="topbar">
      <div>
        <div class="badge" id="tripTitle">불러오는 중…</div>
        <div class="small" id="tripPeriod"></div>
      </div>
      <button class="btn btn-ghost" id="shareBtn">공유 링크 복사</button>
    </div>

    <div class="card" id="joinCard" style="display:none">
      <h2>참여하기</h2>
      <p class="small">닉네임만 입력하면 바로 참여됩니다.</p>
      <label>닉네임</label>
      <input id="nick" placeholder="예: 성용"/>
      <div class="actions">
        <button class="btn btn-primary" id="joinBtn">참여</button>
      </div>
      <p class="small" id="joinStatus"></p>
    </div>

    <div class="card">
      <h2>일정 추가</h2>
      <div class="row">
        <div>
          <label>날짜</label>
          <input id="date" type="date"/>
        </div>
        <div>
          <label>시간</label>
          <input id="time" type="time"/>
        </div>
      </div>
      <label>제목</label>
      <input id="title" placeholder="예: 센소지 / 점심 / 체크인"/>
      <div class="row">
        <div>
          <label>장소(선택)</label>
          <input id="place" placeholder="예: 아사쿠사"/>
        </div>
        <div>
          <label>지도 링크(선택)</label>
          <input id="mapUrl" placeholder="네이버/카카오 지도 URL"/>
        </div>
      </div>
      <label>메모(선택)</label>
      <textarea id="note" placeholder="예: 10시 이전 도착 추천"></textarea>

      <label>사진(선택, 여러 장 가능)</label>
      <input id="photos" type="file" accept="image/*" multiple />

      <div class="actions">
        <button class="btn btn-primary" id="addBtn">추가</button>
        <span class="small" id="uploadHint">사진을 고르면 추가할 때 Cloudinary로 업로드됩니다.</span>
      </div>
      <p class="small" id="status"></p>
    </div>

    <div class="list" id="list"></div>
  </div>

  <!-- 수정 모달 -->
  <div class="modal-backdrop" id="modalBack">
    <div class="modal">
      <h2>일정 수정</h2>

      <div class="row">
        <div>
          <label>날짜</label>
          <input id="mDate" type="date"/>
        </div>
        <div>
          <label>시간</label>
          <input id="mTime" type="time"/>
        </div>
      </div>
      <label>제목</label>
      <input id="mTitle"/>
      <div class="row">
        <div>
          <label>장소</label>
          <input id="mPlace"/>
        </div>
        <div>
          <label>지도 링크</label>
          <input id="mMapUrl"/>
        </div>
      </div>
      <label>메모</label>
      <textarea id="mNote"></textarea>

      <label>사진 추가(선택)</label>
      <input id="mPhotos" type="file" accept="image/*" multiple />

      <div class="actions">
        <button class="btn btn-ghost" id="closeModal">닫기</button>
        <button class="btn btn-primary" id="saveModal">저장</button>
      </div>
      <p class="small" id="mStatus"></p>
    </div>
  </div>

  <script type="module" src="./app-trip.js"></script>
</body>
</html>
