<!-- ✅ TOC + 섹션 스크롤 + 접기/펼치기 (모바일 최적화) -->

<style>
  :root{
    --bg:#fff;
    --ink:#0f172a;
    --muted:#64748b;
    --border:#e5e7eb;
    --accent:#2563eb;
    --soft:#f8fafc;
    --shadow:0 6px 20px rgba(0,0,0,.05);
    --r:14px;
  }

  /* ✅ 페이지에서 헤더가 sticky이면 스크롤 위치 보정 */
  html{ scroll-behavior:smooth; scroll-padding-top: 86px; }

  /* ✅ TOC 카드 */
  .toc{
    background:var(--bg);
    border:1px solid var(--border);
    border-radius:var(--r);
    box-shadow:var(--shadow);
    padding:14px;
    margin:12px 0 14px;
  }
  .toc h3{
    margin:0 0 8px;
    font-size:15px;
    font-weight:900;
  }
  .toc p{
    margin:0 0 10px;
    font-size:12.5px;
    color:var(--muted);
    line-height:1.5;
  }

  .toc-list{
    display:grid;
    gap:10px;
    padding:0;
    margin:0;
    list-style:none;
  }
  .toc a{
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    padding:12px 12px;
    border:1px solid var(--border);
    border-radius:12px;
    background:#fff;
    text-decoration:none;
    color:var(--ink);
    font-weight:900;
    -webkit-tap-highlight-color: transparent;
  }
  .toc a:active{ transform: scale(.99); }
  .toc .badge{
    font-size:12px;
    font-weight:900;
    color:#1d4ed8;
    background:#eff6ff;
    border:1px solid #bfdbfe;
    border-radius:999px;
    padding:4px 8px;
    flex:0 0 auto;
  }
  .toc .arrow{ color:var(--muted); font-weight:900; }

  /* ✅ 섹션 앵커(스크롤 위치 보정) */
  .anchor{
    scroll-margin-top: 92px;
  }

  /* ✅ fold(섹션) */
  details.fold{
    background:var(--bg);
    border:1px solid var(--border);
    border-radius:var(--r);
    padding:12px 12px;
    margin:12px 0;
    box-shadow:var(--shadow);
    color:var(--ink);
    line-height:1.65;
    overflow:hidden;
  }
  summary.fold-summary{
    cursor:pointer;
    user-select:none;
    list-style:none;
    display:flex;
    align-items:flex-start;
    gap:10px;
    padding:10px 4px;
    font-weight:900;
    font-size:15px;
    color:var(--accent);
    -webkit-tap-highlight-color: transparent;
  }
  summary.fold-summary::-webkit-details-marker{ display:none; }
  summary.fold-summary::before{
    content:"➕";
    flex:0 0 auto;
    width:22px;
    font-size:16px;
    margin-top:1px;
  }
  details[open] > summary.fold-summary::before{ content:"➖"; }

  .fold-sub{
    margin-top:2px;
    color:var(--muted);
    font-size:12.5px;
    font-weight:700;
  }

  .fold-body{
    margin-top:10px;
    padding:12px;
    background:var(--soft);
    border-top:1px dashed var(--border);
  }

  .fold-body h4{
    margin:12px 0 6px;
    font-size:14px;
    font-weight:900;
  }

  .steps{
    margin:8px 0 12px;
    padding-left:18px;
    font-size:14px;
  }
  .steps li{ margin:8px 0; }

  .result, .tip{
    margin:10px 0;
    padding:10px 12px;
    border-radius:12px;
    font-size:14px;
    background:#fff;
    border:1px solid #dbeafe;
    word-break:keep-all;
  }
  .tip{
    border-color:#a5f3fc;
    background:#ecfeff;
  }

  .mathbox{
    max-width:100%;
    overflow-x:auto;
    -webkit-overflow-scrolling:touch;
    border:1px solid #cbd5e1;
    border-radius:12px;
    background:#fff;
    padding:10px 12px;
    margin:8px 0 6px;
  }
  .mathbox .row{
    display:flex;
    gap:14px;
    justify-content:center;
    font-weight:800;
    font-size:13.5px;
    min-width:240px;
  }
  .mathbox .row span{
    width:36px;
    text-align:center;
  }

  /* ✅ 모바일 여백/폰트 */
  @media (max-width: 420px){
    html{ scroll-padding-top: 92px; }
    .toc{ padding:14px 12px; }
    .toc a{ padding:12px 10px; }
    details.fold{ padding:12px 10px; }
    .fold-body{ padding:12px 10px; }
  }
</style>

<!-- ✅ 목차(TOC) -->
<nav class="toc" aria-label="개념 목차">
  <h3>개념 목차</h3>
  <p>원하는 항목을 누르면 해당 위치로 이동합니다.</p>

  <ul class="toc-list">
    <li>
      <a href="#sec01">
        <span>01. 벡터곱(크로스 곱)</span>
        <span class="badge">v×B</span>
        <span class="arrow">›</span>
      </a>
    </li>

    <!-- ✅ 항목 늘릴 때: 여기 li만 복사해서 href/id만 바꾸면 됩니다 -->
    <!--
    <li>
      <a href="#sec02">
        <span>02. 로렌츠 힘</span>
        <span class="badge">F=q(v×B)</span>
        <span class="arrow">›</span>
      </a>
    </li>
    -->
  </ul>
</nav>

<!-- ✅ 01 섹션 -->
<section id="sec01" class="anchor">
  <details class="fold">
    <summary class="fold-summary">
      <div>
        01. 벡터곱(크로스 곱) 방법 보기
        <div class="fold-sub">+ − + 패턴 / j만 마이너스</div>
      </div>
    </summary>

    <div class="fold-body">
      <h4>1) 벡터곱 틀(행렬식)</h4>
      <div class="mathbox">
        <div class="row"><span>i</span><span>j</span><span>k</span></div>
        <div class="row"><span>A₁</span><span>A₂</span><span>A₃</span></div>
        <div class="row"><span>B₁</span><span>B₂</span><span>B₃</span></div>
      </div>

      <div class="result">
        <b>+  −  +</b> 패턴으로 계산<br/>
        <b>(A₂B₃ − A₃B₂)i − (A₁B₃ − A₃B₁)j + (A₁B₂ − A₂B₁)k</b>
      </div>

      <h4>2) 초간단 외우기</h4>
      <ul class="steps">
        <li><b>i</b> : (y×z) − (z×y)</li>
        <li><b>j</b> : −[(x×z) − (z×x)]  ← <b>j만 마이너스!</b></li>
        <li><b>k</b> : (x×y) − (y×x)</li>
      </ul>

      <div class="tip">
        ✅ 실수 방지 3가지<br/>
        1) 순서 확인: A×B (바꾸면 부호 반대)<br/>
        2) j 성분은 항상 한 번 더 마이너스<br/>
        3) 곱셈 부호(±) 계산 실수 주의
      </div>
    </div>
  </details>
</section>
