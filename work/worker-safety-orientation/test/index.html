<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <meta name="description" content="KOEN ì‹ ê·œ ì‘ì—…ì ì•ˆì „ í€´ì¦ˆ">
  <meta property="og:title" content="ì‹ ê·œ ì‘ì—…ì ì•ˆì „ í€´ì¦ˆ">
  <meta property="og:description" content="ê¸°ì´ˆ ì•ˆì „ì§€ì‹ì„ í™•ì¸í•´ë³´ì„¸ìš”.">
  <meta property="og:image" content="../safety-quiz.png" />
  <meta property="og:type" content="website">

  <title>ì‹ ê·œ ì‘ì—…ì ì•ˆì „ í€´ì¦ˆ</title>

  <style>
    body {
      font-family: 'Pretendard','Segoe UI', sans-serif;
      background: linear-gradient(135deg, #e8f1ff, #f4f9ff);
      margin: 0;
      padding: 20px;
    }
    .quiz-container {
      max-width: 600px;
      margin: auto;
      background: #ffffff;
      padding: 34px;
      border-radius: 20px;
      box-shadow: 0 8px 22px rgba(0,0,0,0.08);
    }
    h1 {
      font-size: 1.9rem;
      color: #1e3a8a;
      text-align: center;
      margin-bottom: 28px;
      line-height: 1.4;
    }
    .question {
      font-size: 1.15rem;
      margin-bottom: 20px;
      font-weight: 600;
      color: #0f5132;
    }
    .options { list-style: none; padding: 0; }
    .options li { margin: 10px 0; }
    button {
      padding: 12px;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      background-color: #2563eb;
      color: white;
      cursor: pointer;
      width: 100%;
      transition: 0.25s ease;
    }
    button:hover {
      background-color: #1e4fc7;
    }
    .feedback {
      margin-top: 18px;
      font-weight: bold;
      transition: opacity 0.5s ease;
      text-align: center;
    }
    .correct { color: #0f5132; }
    .incorrect { color: #b91c1c; }
    #name-input-section { text-align: center; margin-top: 40px; }
    #result {
      font-size: 1.6rem;
      text-align: center;
      font-weight: bold;
      color: #1e3a8a;
      margin-top: 45px;
    }
    #stats { font-size: 1rem; color: #333; margin-top: 20px; }
    input[type="text"] {
      padding: 10px;
      font-size: 1rem;
      width: 80%;
      max-width: 300px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 10px;
    }
  </style>
</head>

<body>
  <div class="quiz-container">

    <!-- ì´ë¦„ ì…ë ¥ -->
    <div id="name-input-section">
      <h1>KOEN ì‹ ê·œ ì‘ì—…ì<br>ì•ˆì „ í€´ì¦ˆ</h1>

      <span style="color:#000;">ìƒ˜í”Œ 1ë¬¸í•­ ë²„ì „</span>
      <br><br>

      <p>ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.</p>
      <input type="text" id="username" placeholder="ì´ë¦„ ì…ë ¥">
      <br><br><br>
      <button onclick="startQuiz()">í€´ì¦ˆ ì‹œì‘</button>
    </div>

    <!-- ë¬¸ì œ ë°•ìŠ¤ -->
    <div id="question-box" style="display:none">
      <div class="question" id="question"></div>
      <ul class="options" id="options"></ul>
      <div class="feedback" id="feedback"></div>
    </div>

    <!-- ê²°ê³¼ í™”ë©´ -->
    <div id="result" style="display:none">
      <p id="score-display"></p>
      <div id="stats"></div>

      <button onclick="location.reload()">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
    </div>

  </div>


<script>
/* âœ… ìƒ˜í”Œ ë¬¸ì œ 1ê°œë§Œ í¬í•¨ (ë¬¸ì œ êµ¬ì¡° ìœ ì§€) */
const quiz = [
  {
    q: "ì „ê¸° ì‘ì—… ì „ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•˜ëŠ” ì¡°ì¹˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
    options: [
      "ì‘ì—…ì ìˆ˜ í™•ì¸",
      "ì •ì „(LOTO) ì—¬ë¶€ í™•ì¸",
      "ì‘ì—… ì¥ì†Œ ì˜¨ë„ ì¸¡ì •",
      "ì‘ì—…ì ì„œëª… ë°›ê¸°"
    ],
    answer: 1,
    explain: "ì „ê¸° ì‘ì—… ì „ì—ëŠ” ë°˜ë“œì‹œ ì „ì›ì„ ì°¨ë‹¨í•˜ê³  LOTO ì ˆì°¨ë¥¼ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤."
  }
];

/* âœ… ê¸°ì¡´ ê¸°ëŠ¥ ê·¸ëŒ€ë¡œ ìœ ì§€ */
let currentQuestion = 0;
let score = 0;
let userName = '';
let shuffledQuiz = [];

function startQuiz() {
  const nameInput = document.getElementById("username").value.trim();
  if (!nameInput) { alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."); return; }

  userName = nameInput;
  shuffledQuiz = [...quiz];

  currentQuestion = 0;
  score = 0;

  document.getElementById("name-input-section").style.display = "none";
  document.getElementById("question-box").style.display = "block";

  loadQuestion();
}

function loadQuestion() {
  document.getElementById("feedback").textContent = "";
  const current = shuffledQuiz[currentQuestion];

  document.getElementById("question").textContent =
    `${currentQuestion + 1}. ${current.q}`;
  
  const container = document.getElementById("options");
  container.innerHTML = "";

  current.options.forEach((opt, idx) => {
    const li = document.createElement("li");
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(idx);
    li.appendChild(btn);
    container.appendChild(li);
  });
}

function checkAnswer(selected) {
  const current = shuffledQuiz[currentQuestion];
  const feedback = document.getElementById("feedback");

  if (selected === current.answer) {
    score++;
    feedback.textContent = `ì •ë‹µì…ë‹ˆë‹¤! ğŸ’¡ ${current.explain}`;
    feedback.className = "feedback correct";
  } else {
    feedback.textContent = "ì˜¤ë‹µì…ë‹ˆë‹¤. ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”.";
    feedback.className = "feedback incorrect";
    return; // ì˜¤ë‹µ ì‹œ ë¬¸ì œ ìœ ì§€
  }

  setTimeout(() => {
    currentQuestion++;
    if (currentQuestion < shuffledQuiz.length) loadQuestion();
    else showResult();
  }, 1500);
}

function showResult() {
  document.getElementById("question-box").style.display = "none";
  document.getElementById("result").style.display = "block";

  document.getElementById("score-display").textContent =
    `${userName}ë‹˜, ê²°ê³¼ëŠ” ${score}ì ì…ë‹ˆë‹¤!`;

  document.getElementById("stats").innerHTML =
    `ì´ ${quiz.length}ë¬¸ì œ ì¤‘ ${score}ê°œ ì •ë‹µ`;
}
</script>

</body>
</html>
